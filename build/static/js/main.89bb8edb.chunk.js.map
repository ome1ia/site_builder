{"version":3,"sources":["core/context/Loader/LoaderContext.js","components/Loader.js","components/Alert.js","core/context/Alert/AlertContext.js","core/context/Vcard/VcardContext.js","core/variables.js","core/utils/utils.js","mock/vcardDemoData.js","core/context/Vcard/VcardDemoProvider.js","components/NavbarHome.js","components/HashtagList.js","components/LinkList.js","components/Modal.js","pages/View.js","core/forms/validate.js","components/NavbarEditor.js","components/UserpicEditor.js","components/Input.js","components/HashtagInput.js","components/InputGroup.js","components/Textarea.js","components/Checkbox.js","components/Fieldset.js","components/FieldsetPhone.js","components/Banner.js","core/forms/VcardEditForm.js","pages/Editor.js","App.js","index.js"],"names":["LoaderContext","createContext","LoaderProvider","children","useState","loading","setLoading","Provider","value","addLoader","removeLoader","Loader","useContext","className","Alert","props","cls","success","push","alertRef","useRef","handleHideAlert","evt","target","onClose","useEffect","document","body","addEventListener","removeEventListener","ref","join","type","aria-label","onClick","aria-hidden","AlertContext","AlertProvider","logoutUrl","alert","setAlert","removeAlert","addUpdateFailAlert","addServiseNotFoundAlert","addUserHasNotServiseAlert","addDataErrorsAlert","addUserpicUploadErrorAlert","addUpdateSuccessAlert","site","window","location","origin","logout","assign","href","VcardContext","useVcard","VIEW_PATH","urlRegExp","emailRegExp","phoneRegExp","getUserName","newValue","replace","length","cleanValue","match","getYouTubeChannel","formateTime","time","toString","formateUrl","test","sanitizeData","data","sanitizeHtml","key","vcardDemoData","userpic","user_name","title","website_url","hashtags","VcardDemoProvider","defaultUserpic","vcardFields","setVcardFields","fromMirRus","vcardErrors","setVcardErrors","isNotEdited","setNotEdited","isUnsaved","setUnsaved","saveVcard","a","cleanData","showVcard","NavbarHome","to","HashtagList","map","hashtag","id","LinkList","show_links","link1_url","link1_name","link2_url","link2_name","rel","Modal","modalRef","role","style","display","current","Home","showModal","setShowModal","description","show_social","instagram_url","facebook_url","tiktok_url","youtube_url","vk_url","phone","show_whatsapp","show_viber","tg_username","twitter_username","odnoklassniki_username","email","avatar","copyrightText","hide_footer","formattedPhone","slice","formatePhone","date","hours","getHours","minutes","getMinutes","getDate","Date","Object","keys","data-dismiss","src","alt","getElementsByTagName","classList","add","getFullYear","remove","validate","values","errors","NavbarEditor","useFormikContext","formChanged","dirty","submitForm","setErrors","locationHistory","useHistory","handleSaveChanges","preventDefault","unsaved","handleShowChanges","accountUrl","UserpicEditor","handleCloseModal","useField","name","meta","helpers","initialValue","previousUserpic","setPreviousUserpic","setUserpic","setValue","cropper","setCropper","cropperRef","addCropper","removeCropper","newCropper","Cropper","aspectRatio","autoCropArea","destroy","htmlFor","accept","onChange","files","dataTransfer","reader","FileReader","onload","result","readAsDataURL","getCroppedCanvas","width","height","toDataURL","Input","field","form","error","inputRef","hiddenLabel","label","placeholder","focus","HashtagInput","touched","setFieldValue","handleAddHashtag","newHashtag","changedHashtags","unshift","onKeyUp","code","splice","handleRemoveHashtag","InputGroup","Textarea","cols","rows","Checkbox","fieldClasses","defaultChecked","Fieldset","disabled","setDisabled","helpText","helpLink","FieldsetPhone","relatedFields","focused","setFocused","switchOffRelatedFields","fieldName","onFocus","onBlur","Banner","VcardEditForm","withFormik","mapPropsToValues","mapPropsToErrors","mapPropsToTouched","handleSubmit","setSubmitting","setValues","initialValues","newValues","displayName","onSubmit","showBanner","Editor","resetVcard","reset","save","show","App","root","getElementById","getAttribute","path","exact","component","View","render","ReactDOM"],"mappings":"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","file":"static/js/main.89bb8edb.chunk.js","sourcesContent":["import { useState, createContext } from 'react';\n\nexport const LoaderContext = createContext();\n\nexport function LoaderProvider({ children }) {\n    const [ loading, setLoading ] = useState( false );\n\n    const addLoader = () => setLoading(true);\n    const removeLoader = () => setLoading(false);\n\n    return (\n        <LoaderContext.Provider value={{\n            loading, addLoader, removeLoader\n        }}>\n            { children }\n        </LoaderContext.Provider>\n    )\n}","import { useContext } from \"react\";\nimport { LoaderContext } from \"../core/context/Loader/LoaderContext\";\n\nexport default function Loader() {\n    const { loading } = useContext(LoaderContext);\n\n    if (!loading) {\n        return null;\n    } else {\n        return (\n            <div className=\"preloader page-loader\" />\n        )\n    }  \n}\n","import { useRef, useEffect } from 'react';\n\nexport default function Alert(props) {\n    const cls = ['alert', 'app__alert', 'fade', 'in'];\n    if(props.success) {\n        cls.push('alert-success')\n    } else {\n        cls.push('alert-danger');\n    }\n\n    const alertRef = useRef(null);\n\n    const handleHideAlert = (evt) => {\n        if( evt.target && evt.target !== alertRef ) {\n            props.onClose();\n        }\n    }\n\n    useEffect(() => {\n        document.body.addEventListener('click', handleHideAlert);\n        return () => {\n            document.body.removeEventListener('click', handleHideAlert);\n        };\n    }, [])\n    \n    return (\n        <div ref={ alertRef } className=\"app__alert-wrapper\">\n            <div className={ cls.join(' ') }>\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={ props.onClose }><span aria-hidden=\"true\">×</span></button>\n                { props.children }\n            </div>\n        </div>\n    )\n}\n","import { useState, createContext } from 'react';\nimport Alert from '../../../components/Alert';\n\nexport const AlertContext = createContext();\n\nexport function AlertProvider({ logoutUrl, children }) {\n    const [ alert, setAlert ] = useState( false );\n\n    const addUpdateFailAlert = () => setAlert('updateFail');\n    const addServiseNotFoundAlert = () => setAlert('serviceNotFound');\n    const addUserHasNotServiseAlert = () => setAlert('userHasNotServise');\n    const addDataErrorsAlert = () => setAlert('dataErrors');\n    const addUserpicUploadErrorAlert = () => setAlert('userpicUploadError');\n    const addUpdateSuccessAlert = () => setAlert('updateSuccess');\n    const removeAlert = () => setAlert('');\n\n    const setLogout = () => {\n        const site = window.location.origin;\n        const logout = `${site}${logoutUrl}`;\n        window.location.assign(logout);\n    }\n\n    return (\n        <AlertContext.Provider value={{\n            addUpdateFailAlert,\n            addServiseNotFoundAlert,\n            addUserHasNotServiseAlert,\n            addDataErrorsAlert,\n            addUserpicUploadErrorAlert,\n            addUpdateSuccessAlert, \n            removeAlert,\n        }}>\n            { alert && ( alert === 'updateFail' ) && (\n                <Alert onClose={ removeAlert }>\n                    <strong>Произошла ошибка при отправке запроса. Попробуйте еще раз.</strong>\n                </Alert>)\n            }\n            { alert && ( alert === 'serviceNotFound' ) && (\n                <Alert onClose={ removeAlert }>\n                    <strong>Сервис не найден.</strong>\n                </Alert>)\n            }\n            { alert && ( alert === 'userHasNotServise' ) && (\n                <Alert onClose={ setLogout }>\n                    <strong>Сервис не принадлежит Вам. Продлите его или попробуйте авторизоваться в другом аккаунте на сайте <a href={ logoutUrl } className=\"link link-underline\">webnames.ru</a>.</strong>\n                </Alert>)\n            }\n            { alert && ( alert === 'dataErrors' ) && (\n                <Alert onClose={ removeAlert }>\n                    <strong>Форма заполнена с ошибками.</strong>\n                </Alert>)\n            }\n            { alert && ( alert === 'userpicUploadError' ) && (\n                <Alert onClose={ removeAlert }>\n                    <strong>Ошибка сохранения изображения. Данные не обновлены, попробуйте повторить.</strong>\n                </Alert>)\n            }\n            { alert && ( alert === 'updateSuccess' ) && (\n                <Alert onClose={ removeAlert } success=\"true\">\n                    <strong>Успешно выполнено. Данные на сайте будут обновлены в течение 30 минут.</strong>\n                </Alert>)\n            }\n            { children }\n        </AlertContext.Provider>\n    )\n}\n","import { createContext, useContext } from 'react';\n\nexport const VcardContext = createContext();\n\nexport const useVcard = () => {\n    return useContext(VcardContext);\n}\n","export const VCARD_URL = '/scripts/ajax_lightsite.pl?';\nexport const USERPIC_URL = '/scripts/ajax_upload_lightsite_userpic.pl?';\nexport const WITH_UPDATE = '&action=update_vcard_details';\nexport const WITH_USERPIC = '&with_userpic=1';\nexport const AUTH_URL = '/scripts/auth.pl?auth=1';\nexport const ERRORS_MAP = {\n    'UNDEFINED_SERVICE': 'Сервис не найден.',\n    'UNDEFINED_USER': 'Сервис не находится под управлением пользователя. Возможно, вам нужно авторизоваться.',\n    'SERVICE_NOT_FOUND': 'Сервис не активен.',\n    'UPLOAD_FAIL': 'Загрузка не выполнена.',\n    'MIN_LENGTH': 'Имя пользователя слишком короткое',\n    'MAX_LENGTH' : 'Слишком длинное поле, сократите',\n    'INVALUD_HOSTNAME' : 'Неправильный url-адрес',\n    'INVALID_PHONE' : 'В поле телефон должны быть указаны только цифры и символ \"+\"',\n    'INVALID_NICKNAME' : 'Неверно заполнено имя пользователя',\n    'INVALID_EMAIL' : 'Неверно заполнен e-mail',\n    'DEF': 'Неверно заполнено поле',\n};\nexport const EDIT_PATH = '/';\nexport const VIEW_PATH = '/view';","import sanitizeHtml from 'sanitize-html';\nimport { ERRORS_MAP } from '../variables';\n\nexport const urlRegExp = /(http(s)?:\\/\\/)?(\\S+\\.[^/\\s]+)+\\S*/i;\nexport const emailRegExp = /^[^@\\s]+@[^@\\s]{1,}\\.[^@\\s]{2,}$/i;\nexport const phoneRegExp = /[+\\d.\\-()\\s]+/i;\n\nexport function formatePhone(phone) {\n    if(!phone) {\n    \treturn '';\n    }\n    phone = phone.replace(/\\D+/gi, '');\n    if( /^380/.test(phone) || /^375/.test(phone) ) {\n        phone = '+' + phone.slice(0,-9) + ' (' + phone.slice(-9,-7) + ') ' + phone.slice(-7,-4) + '-' +phone.slice(-4,-2) + '-' + phone.slice(-2);\n    } else {\n        phone = '+' + phone.slice(0,-10) + ' (' + phone.slice(-10,-7) + ') ' + phone.slice(-7,-4) + '-' +phone.slice(-4,-2) + '-' + phone.slice(-2);\n    }\n    return phone;\n}\n\nexport function getUserName(value) {\n    if( !value ) {\n        return '';\n    }\n    let newValue = value.replace(/\\s*/g, '');\n    if( newValue.length ) {\n        const cleanValue = newValue.match(/([^/]*)$/g);\n        if( cleanValue && cleanValue.length ) {\n            newValue = cleanValue[0];\n            newValue = newValue.replace(/\\?.*/gi, '');\n        } else {\n            newValue = '';\n        }\n    } else {\n        newValue = '';\n    }\n    return newValue;\n}\n\nexport function getYouTubeChannel(value) {\n    if( !value ) {\n        return '';\n    }\n    let newValue = value.replace(/\\s*/g, '');\n    if( newValue.length  ) {\n        const cleanValue = newValue.match(/\\/?(channel|c|user)\\/(\\S*)$/g);\n        if( cleanValue && cleanValue.length ) {\n            newValue = cleanValue[0];\n            newValue = newValue.replace(/\\?.*/gi, '');\n        } else {\n            newValue = '';\n        }\n        \n    } else {\n        newValue = '';\n    }\n    return newValue;\n}\n\nexport function formateTime(time) {\n    return time.toString().length > 1 ? time.toString() : '0' + time.toString();\n}\n\nexport function formateUrl(value) {\n    if( !value ) {\n        return '';\n    }\n    value = value.replace(/\\s*/g, '');\n    if( !value.length ) {\n        return '';\n    }\n    if( !/^http(s)?:\\/\\//.test(value) ) {\n        value = `https://${value}`;\n    }\n    return value;\n}\n\nexport function getDate(date) {\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    return `${ formateTime(hours) }:${formateTime(minutes)}`;\n}\n\nexport function convertDataFromServer(data) {\n    let {fields, userpic = ''} = data;\n    fields = JSON.parse(fields);\n    fields.hashtags = [];\n    if(fields.hashtag1) {\n        fields.hashtags.push(fields.hashtag1);\n    }\n    if(fields.hashtag2) {\n        fields.hashtags.push(fields.hashtag2);\n    }\n    if(fields.hashtag3) {\n        fields.hashtags.push(fields.hashtag3);\n    }\n    fields.userpic = userpic ? `data:image/png;base64, ${userpic}` : '';\n    return fields;\n}\n\nexport function convertDataToServer(data) {\n    const fields = Object.assign({}, data);\n    const userpic = fields.userpic;\n    const result = {};\n\n    fields.hashtag1 = fields.hashtags[0] || '';\n    fields.hashtag2 = fields.hashtags[1] || '';\n    fields.hashtag3 = fields.hashtags[2] || '';\n    delete fields.hashtags;\n    delete fields.userpic;\n\n    result.userpic = userpic;\n    result.fields = fields;\n\n    return result;\n}\n\nexport const getBlobFromBase64 = async (data) => {\n    const result = await fetch(data);\n    const blob = await result.blob();\n    return blob;\n}\n\nexport const sanitizeData = (data) => {\n    if (typeof data === 'string') {\n        data = sanitizeHtml(data);\n        // Дмитрий просил вернуть в url`ах &\n        data = data.replace(/&amp;/g, '&');\n    } else if (typeof data === 'object') {\n        for (let key in data) {\n            const value = data[key];\n            data[key] = sanitizeData(value)\n        };\n    }\n    // TODO  добавить рекурсивную проверку для других типов\n    return data;\n};\n\nexport const decodeErrors = (errors) => {\n    for(let key in errors) {\n        const code = errors[key];\n        errors[key] = ERRORS_MAP[code];\n    }\n    return errors;\n}\n","export const vcardDemoData = {\n    userpic: '',\n    user_name: 'Демо',\n    title: 'Конструктор сайта',\n    website_url: 'https://google.com',\n    hashtags: []\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport { VcardContext } from './VcardContext';\nimport { sanitizeData } from '../../utils/utils';\nimport { LoaderContext } from '../Loader/LoaderContext';\nimport { AlertContext } from '../Alert/AlertContext';\nimport { vcardDemoData } from '../../../mock/vcardDemoData';\n\nexport function VcardDemoProvider({ children, defaultUserpic }) {\n    const { addLoader, removeLoader } = useContext(LoaderContext);\n    const { addUpdateSuccessAlert } = useContext(AlertContext);\n    const [ vcardFields, setVcardFields ] = useState({});\n    const [ fromMirRus, setFromMirRus ] = useState(true);\n    const [ vcardErrors, setVcardErrors ] = useState({});\n    const [ isNotEdited, setNotEdited ] = useState('');\n    const [ isUnsaved, setUnsaved ] = useState(false);\n\n    // покажем данные\n    useEffect(() => {\n        addLoader();\n        setVcardFields(vcardDemoData);\n        removeLoader();\n    }, []);\n\n    const saveVcard = async (data) => {\n        addLoader();\n        setVcardErrors({});\n        const cleanData = await sanitizeData(data);\n        cleanData.userpic = cleanData.userpic || vcardFields.userpic;\n        setVcardFields(data);\n        removeLoader();\n        addUpdateSuccessAlert();\n        setUnsaved(false);\n        return true;\n    };\n\n    const showVcard = async (data) => {\n        addLoader();\n        const cleanData = await sanitizeData(data);\n        setVcardFields(cleanData);\n        setVcardErrors({});\n        removeLoader();\n        if(isNotEdited) {\n            setNotEdited('');\n        }\n        return true;\n    };\n   \n    return (\n        <VcardContext.Provider value={{\n            vcardFields, fromMirRus, vcardErrors, defaultUserpic, saveVcard, showVcard, isUnsaved, setUnsaved, isNotEdited\n        }}>\n            { children }\n        </VcardContext.Provider>\n    )\n}\n","import { Link } from 'react-router-dom';\nimport { EDIT_PATH } from '../core/variables';\n\nexport default function NavbarHome() {\n    return (\n        <div className=\"sidebar__btn-group\">\n            <div className=\"container\">\n                <Link to={ EDIT_PATH } className=\"sidebar__btn sidebar__btn-settings\" title=\"Настройки\">\n                    <i className=\"fas fa-cog spinner\"></i>\n                </Link>\n            </div>\n        </div>\n    )\n}\n","import { Fragment } from 'react';\n\nfunction HashtagList(props) {\n    const { hashtags } = props;\n\n    return (\n        <Fragment>\n            { hashtags.map( ( hashtag, id ) => (<span key={ id } className=\"profile__tag\">{ hashtag }</span>) ) }\n        </Fragment>\n    );\n};\n  \nexport default HashtagList;","import { Fragment } from 'react';\n\nfunction LinkList(props) {\n    const { show_links, link1_url, link1_name, link2_url, link2_name } = props;\n\n    return (\n        <Fragment>\n            \n            {\n                show_links && link1_url && link1_name\n                ?   <a href={`${ link1_url }`} target=\"_blank\"  rel=\"nofollow noreferrer noopener noscript\" className=\"btn btn-default profile__fast-link\">{ link1_name }</a>\n                : null\n            }\n            {\n                show_links && link2_url && link2_name\n                ?   <a href={`${ link2_url }`} target=\"_blank\"  rel=\"nofollow noreferrer noopener noscript\" className=\"btn btn-default profile__fast-link\">{ link2_name }</a>\n                : null\n            }\n        </Fragment>\n    );\n};\n  \nexport default LinkList;","import { Fragment, useRef } from \"react\"\n\nexport default function Modal(props) {\n    const modalRef = useRef(null);\n    const hideModal = (evt) => {\n        if(evt.target && evt.target === modalRef.current) {\n            props.onClose();\n        }\n    }\n    return (\n        <Fragment>\n            <div className=\"fade modal-backdrop in show\"></div>\n            <div className=\"modal fade in\" \n                role=\"dialog\" \n                style={{ display: 'block'}} \n                onClick={ hideModal } \n                ref={ modalRef }\n            >\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-body\">\n                            <button type=\"button\" \n                                className=\"close\" \n                                onClick={ props.onClose } \n                                aria-label=\"Close\"\n                            >\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            { props.children }\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </Fragment>\n    )\n}\n","import React, { useState, Fragment } from 'react';\nimport { useVcard } from '../core/context/Vcard/VcardContext';\nimport NavbarHome from '../components/NavbarHome';\nimport HashtagList from '../components/HashtagList';\nimport LinkList from '../components/LinkList';\nimport Modal from '../components/Modal';\nimport { formatePhone, getDate } from '../core/utils/utils';\n\nfunction Home() {\n    const [ showModal, setShowModal ] = useState(false);\n\n    const { vcardFields, defaultUserpic } = useVcard();\n\n    const { \n        userpic,\n        hashtags,\n        user_name,\n        title,\n        description,\n        website_url,\n        show_links,\n        link1_url,\n        link1_name,\n        link2_url,\n        link2_name,\n        show_social,\n        instagram_url,\n        facebook_url,\n        tiktok_url,\n        youtube_url,\n        vk_url,\n        phone,\n        show_whatsapp,\n        show_viber,\n        tg_username,\n        twitter_username,\n        odnoklassniki_username,\n        email,\n        hide_footer\n    } = vcardFields;\n\n    const avatar = userpic || defaultUserpic;\n    \n    const copyrightText = hide_footer\n        ? null\n        : (<span>&nbsp;<a href=\"https://google.com/\" className=\"footer__copyright-link\">Demo.Ru</a></span>);\n\n    const formattedPhone = formatePhone(phone);\n    const time = getDate( new Date() );\n\n    const handleCloseModal = () => {\n        const body = document.getElementsByTagName('body')[0];\n        body.classList.remove('modal-open');\n        setShowModal(false);\n    };\n    const handleShowModal = () => {\n        const body = document.getElementsByTagName('body')[0];\n        body.classList.add('modal-open');\n        setShowModal(true);\n    };\n\n    if ( !Object.keys(vcardFields) || !Object.keys(vcardFields).length ) {\n        return null;\n    } else {\n        return (\n            <Fragment>\n                <div className=\"sidebar collapse\">\n                    <NavbarHome />\n                </div>\n                <div className=\"app__wrapper\">\n                    <div className=\"container\">\n                        <header>\n                            <div className=\"app__alert-wrapper hidden\">\n                                <div className=\"alert alert-danger app__alert fade in\">\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                                        <span aria-hidden=\"true\">&times;</span>\n                                    </button>\n                                    { description }\n                                </div>\n                            </div>\n                        </header>\n                        <div className=\"row\">\n                            <div className=\"col-sm-6 col-lg-7 hidden-xs\">\n                                <div className=\"profile\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-4\">\n                                            <img    className=\"profile__avatar\"\n                                                    src={`${ avatar }`} \n                                                    alt=\"Фото\" />\n                                        </div>\n                                        <div className=\"col-md-8\">\n                                            <div className=\"profile__description\">\n                                                {\n                                                    user_name\n                                                    ?   <div className=\"field__wrapper field__wrapper_sm\">\n                                                            <h1 className=\"field field_nowrap profile__name\">{ user_name }</h1>\n                                                        </div>\n                                                    : null\n                                                }\n                                                {\n                                                    title\n                                                    ?   <div className=\"field__wrapper field__wrapper_sm\">\n                                                            <h2 className=\"field field_nowrap profile__profession\">{ title }</h2>\n                                                        </div>\n                                                    : null\n                                                }\n                                                {\n                                                    description\n                                                    ?   <div className=\"field__wrapper field__wrapper_md\">\n                                                            <p className=\"field profile__introtext\">{ description }</p>\n                                                        </div>\n                                                    : null\n                                                }\n                                                {\n                                                    hashtags.length\n                                                    ?   <div className=\"field__wrapper field__wrapper_sm profile__tag-wrapper\">\n                                                            <div className=\"field profile__tag-list\">\n                                                                <HashtagList hashtags={ hashtags } />\n                                                            </div>\n                                                        </div>\n                                                    : null\n                                                }\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {\n                                        website_url\n                                        ?   <span className=\"profile__link profile__link_website\">Мой вебсайт</span>\n                                        : null\n                                    }\n                                    <div className=\"profile__fast-links\">\n                                        <LinkList show_links={ show_links } link1_url={ link1_url } link1_name={ link1_name } link2_url={ link2_url } link2_name={ link2_name } />\n                                    </div>\n                                    <span className=\"profile__link profile__link_social\">Мои соц. сети</span>\n                                    {\n                                        phone && phone.length\n                                        ?   <span className=\"profile__link profile__link_telephone\">Позвонить</span>\n                                        : null\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6 col-lg-5\">\n                                <div className=\"iphone__block\">\n                                    <div className=\"iphone__corpus-wrapper\">\n                                        <div className=\"iphone__btn iphone__btn-mute\"></div>\n                                        <div className=\"iphone__btn iphone__btn-plus\"></div>\n                                        <div className=\"iphone__btn iphone__btn-minus\"></div>\n                                        <div className=\"iphone__btn iphone__btn-power\"></div>\n                                        <div className=\"iphone__corpus\">\n                                            <div className=\"iphone__line iphone__line-top\"></div>\n                                            <div className=\"iphone__line iphone__line-bottom\"></div>\n                                            <div className=\"iphone__line iphone__line-left\"></div>\n                                            <div className=\"iphone__line iphone__line-right\"></div>\n                                            <div className=\"iphone__corpus-blik\">\n                                                <div className=\"iphone__corpus-inner\">\n                                                    <div className=\"iphone__screen-wrapper\">\n                                                        <div id=\"iphoneBg\" className=\"iphone__screen bg-img\">\n                                                            <div className=\"iphone__screen-content\">\n                                                                <div className=\"iphone__top-area\">\n                                                                    <div className=\"iphone__dinamic\"></div>\n                                                                    <div className=\"iphone__camera\"></div>\n                                                                </div>\n                                                                <div id=\"iphoneTime\" className=\"iphoneTime iphone__clock hidden-xs\">{ time }</div>\n                                                                <div className=\"profile visible-xs\" onClick={ handleShowModal }>\n                                                                    <div className=\"row no-gutters\">\n                                                                        <div className=\"col-xs-5\">\n                                                                            <div className=\"profile__avatar bg-img\">\n                                                                            <img className=\"profile__avatar\"\n                                                                                src={`${ avatar }`} \n                                                                                alt=\"Фото\" />\n                                                                            </div>\n                                                                        </div>\n                                                                        <div className=\"col-xs-7\">\n                                                                            <div className=\"profile__description\">\n                                                                                {\n                                                                                    user_name\n                                                                                    ?   <h1 className=\"field field_nowrap profile__name\">{ user_name }</h1>\n                                                                                    : null\n                                                                                }\n                                                                                {\n                                                                                    title\n                                                                                    ?   <h2 className=\"field field_nowrap profile__profession\">{ title }</h2>\n                                                                                    : null\n                                                                                }\n                                                                                {\n                                                                                    description\n                                                                                    ?   <p className=\"field profile__introtext\">{ description }</p>\n                                                                                    : null\n                                                                                }\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                                <div className=\"iphone__widget-wrapper\">\n                                                                    { website_url\n                                                                        ? <div className=\"iphone__widget iphone__website\">\n                                                                            <a href={`${ website_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__widget-title iphone__website-title\">{ website_url.replace(/^(http(s)?:\\/\\/)?(www\\.)?/ig, '') }</a>\n                                                                            <a href={`${ website_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"btn btn-default iphone__website-btn\">&ensp;<i className=\"fas fa-angle-right\"></i>&ensp;</a>\n                                                                        </div>\n                                                                        : null\n                                                                    }\n                                                                </div>\n                                                                <div className=\"profile__fast-links visible-xs\">\n                                                                    <LinkList show_links={ show_links } link1_url={ link1_url } link1_name={ link1_name } link2_url={ link2_url } link2_name={ link2_name } />\n                                                                </div>\n                                                                <div className=\"iphone__social\">\n                                                                    <div className=\"iphone__social-inner\">\n                                                                        {\n                                                                            show_social && instagram_url\n                                                                            ? <a href={`https://www.instagram.com/${ instagram_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_instagram\">Instagram</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_social && facebook_url\n                                                                            ? <a href={`https://www.facebook.com/${ facebook_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_facebook\">Facebook</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_social && youtube_url\n                                                                            ? <a href={`https://www.youtube.com/${ youtube_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_youtube\">YouTube</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_social && vk_url\n                                                                            ? <a href={`https://vk.com/${ vk_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_vk\">ВКонтакте</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_whatsapp && phone && phone.length > 10\n                                                                            ? <a href={`https://wa.me/${ phone.replace(/[+|\\s|(|)|-]+/gi, '') }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_whatsapp\">WhatsApp</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_viber && phone && phone.length > 10\n                                                                            ? <a href={`viber://chat?number=%2B${ phone.replace(/[+|\\s|(|)|-]+/gi, '') }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_viber\">Viber</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_social && tg_username\n                                                                            ? <a href={`https://telegram.me/${ tg_username }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_telegram\">Telegram</a>\n                                                                            : null\n                                                                        }\n                                                                        {\n                                                                            show_social && tiktok_url\n                                                                            ? <a href={`https://www.tiktok.com/${ tiktok_url }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_tiktok\">TikTok</a>\n                                                                            : null\n                                                                        }\n                                                                        { show_social && twitter_username\n                                                                            ? <a href={`https://twitter.com/${ twitter_username }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_twitter\">Twitter</a>\n                                                                            : null\n                                                                        }\n                                                                        { show_social && odnoklassniki_username\n                                                                            ? <a href={`https://ok.ru/profile/${ odnoklassniki_username }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__social-item iphone__social-item_ok\">ОК</a>\n                                                                            : null\n                                                                        }\n                                                                    </div>\n                                                                </div>\n                                                                {\n                                                                    phone && phone.length\n                                                                    ?   <div className=\"iphone__widget-wrapper\">\n                                                                            <div className=\"iphone__widget iphone__widget_semitransparent iphone__call-block\">\n                                                                                <a href={`tel:${ phone }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" id=\"phoneBlock\" className=\"iphone__widget-title iphone__call-block-title\">{ formattedPhone }</a>\n                                                                                <a href={`tel:${ phone }`} target=\"_blank\" rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__call-block-btn\" aria-label=\"Позвонить\"></a>\n                                                                            </div>\n                                                                        </div>\n                                                                    : null\n                                                                }\n                                                                {\n                                                                    email && email.length\n                                                                    ? <a href={`mailto:${ email }`} rel=\"nofollow noreferrer noopener noscript\" className=\"iphone__email\"> <i className=\"fas fa-envelope\"></i> { email }</a>\n                                                                    : null\n                                                                }\n\n                                                                <div className=\"footer__copyright visible-xxs\">\n                                                                    &copy; <span id=\"footerYear1\">{ new Date().getFullYear() }</span>\n                                                                    { copyrightText }\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <footer className=\"hidden-xxs\">\n                    <div className=\"footer\">\n                        <div className=\"footer__inner\">\n                            <div className=\"container\">\n                                <div className=\"row\">\n                                    <div className=\"col-sm-6 col-lg-7\">\n                                        <div className=\"footer__copyright\">\n                                            &copy; <span id=\"footerYear2\">{ new Date().getFullYear() }</span>\n                                            { copyrightText }\n                                        </div>\n                                    </div>\n                                    <div className=\"col-sm-6 col-lg-5\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </footer>\n                { showModal && (\n                    <Modal onClose={ handleCloseModal }>\n                        <div className=\"editor-form__section\">\n                            <div className=\"form-group\">\n                                <img src={`${ avatar }`} alt=\"Моё фото\" className=\"avatar-editor__preview\" />\n                            </div>\n                            {\n                                user_name\n                                ?   <div className=\"form-group\">\n                                        <h1 className=\"profile__name\">{ user_name }</h1>\n                                    </div>\n                                : null\n                            }\n                            {\n                                title\n                                ?   <div className=\"form-group\">\n                                        <h2 className=\"profile__profession\">{ title }</h2>\n                                    </div>\n                                    : null\n                            }\n                            {\n                                description\n                                ?   <div className=\"form-group\">\n                                        <p className=\"profile__introtext profile__introtext_full\">{ description }</p>\n                                    </div>\n                                : null\n                            }\n                            {\n                                hashtags.length\n                                ?   <div className=\"form-group\">\n                                        <HashtagList hashtags={ hashtags } />\n                                    </div>\n                                : null\n                            }\n                        </div>\n                    </Modal>\n                ) }\n            </Fragment>\n        );\n    }\n}\n\nexport default Home;","import { urlRegExp, emailRegExp, phoneRegExp, getUserName, getYouTubeChannel } from '../utils/utils';\n\nconst validate = (values) => {\n    const errors = {};\n    \n    if ( !values.user_name ) {\n        errors.user_name = 'Обязательное поле';\n    } else if ( values.user_name.length < 2 ) {\n        errors.user_name = 'Имя пользователя слишком короткое';\n    } else if ( values.user_name.length > 40 ) {\n        errors.user_name = 'Слишком длинное поле, сократите';\n    }\n    \n    if ( values.title && values.title.length > 200 ) {\n        errors.title = 'Слишком длинное поле, сократите';\n    }\n\n    if ( values.description && values.description.length > 500 ) {\n        errors.description = 'Слишком длинное поле, сократите';\n    }\n\n    if ( values.hashtag && values.hashtag.length > 100 ) {\n        errors.hashtag = 'Слишком длинное поле, сократите';\n    }\n\n    if ( values.website_url && !urlRegExp.test(values.website_url) ) {\n        errors.website_url = 'Неправильный url-адрес. Пример: https://webnames.ru';\n    }\n\n    if( values.show_links ) {\n        if ( values.link1_url && !urlRegExp.test(values.link1_url) ) {\n            errors.link1_url = 'Неправильный url-адрес. Пример: https://webnames.ru';\n        }\n    \n        if ( values.link1_name && values.link1_name.length > 300 ) {\n            errors.link1_name = 'Слишком длинное поле, сократите';\n        }\n    \n        if ( values.link2_url && !urlRegExp.test(values.link2_url) ) {\n            errors.link2_url = 'Неправильный url-адрес. Пример: https://webnames.ru';\n        }\n    \n        if ( values.link2_name && values.link2_name.length > 300 ) {\n            errors.link2_name = 'Слишком длинное поле, сократите';\n        }\n    }\n\n    if (values.show_social) {\n        if ( values.instagram_url ) {\n            if ( values.instagram_url.length < 3 ) {\n                errors.instagram_url = 'Неверно заполнено имя пользователя. Пример: https://www.instagram.com/webnames_rus/ или webnames_rus';\n            }\n            if ( !getUserName( values.instagram_url.replace(/(\\/)?$/, '') ) ) {\n                errors.instagram_url = 'Неверно заполнено имя пользователя. Пример: https://www.instagram.com/webnames_rus/ или webnames_rus';\n            }\n        }\n\n        if ( values.facebook_url ) {\n            if ( values.facebook_url.length < 3 ) {\n                errors.facebook_url = 'Неверно заполнено имя пользователя. Пример: https://www.facebook.com/Webnamesru или Webnamesru';\n            }\n            if ( !getUserName(values.facebook_url) ) {\n                errors.facebook_url = 'Неверно заполнено имя пользователя. Пример: https://www.facebook.com/Webnamesru или Webnamesru';\n            }\n        }\n\n        if ( values.tiktok_url ) {\n            if (values.tiktok_url.length < 3) {\n                errors.tiktok_url = 'Неверно заполнено имя пользователя. Пример: https://www.tiktok.com/@webnames_rus или @webnames_rus';\n            }\n            if ( !getUserName(values.tiktok_url) ) {\n                errors.tiktok_url = 'Неверно заполнено имя пользователя. Пример: https://www.tiktok.com/@webnames_rus или @webnames_rus';\n            }\n        }\n\n        if ( values.youtube_url ) {\n            if (values.youtube_url.length < 3) {\n                errors.youtube_url = 'Неверно заполнено название канала. Пример: https://www.youtube.com/channel/UCD-Hw6TI_LD9QdMkHKcGXAg или channel/UCD-Hw6TI_LD9QdMkHKcGXAg';\n            }\n            if ( !getYouTubeChannel(values.youtube_url) ) {\n                errors.youtube_url = 'Неверно заполнено название канала. Пример: https://www.youtube.com/channel/UCD-Hw6TI_LD9QdMkHKcGXAg или channel/UCD-Hw6TI_LD9QdMkHKcGXAg';\n            }\n        }\n\n        if ( values.vk_url ) {\n            if (values.vk_url.length < 3) {\n                errors.vk_url = 'Неверно заполнено имя пользователя. Пример: https://vk.com/webnamesru или webnamesru';\n            }\n            if ( !getUserName(values.vk_url) ) {\n                errors.vk_url = 'Неверно заполнено имя пользователя. Пример: https://vk.com/webnamesru или webnamesru';\n            }\n        }\n\n        if ( values.tg_username ) {\n            if ( values.tg_username.length < 3 ) {\n                errors.tg_username = 'Неверно заполнено имя пользователя';\n            }\n            if (values.tg_username.length > 45) {\n                errors.tg_username = 'Неверно заполнено имя пользователя';\n            }\n            if ( !getUserName(values.tg_username) ) {\n                errors.tg_username = 'Неверно заполнено имя пользователя';\n            }\n        }\n\n        if ( values.twitter_username ) {\n            if ( values.twitter_username < 3 ) {\n                errors.tg_username = 'Неверно заполнено имя пользователя. Пример: https://twitter.com/webnamesru или webnamesru';\n            }\n            if ( !getUserName(values.twitter_username) ) {\n                errors.tg_username = 'Неверно заполнено имя пользователя. Пример: https://twitter.com/webnamesru или webnamesru';\n            }\n        }\n\n        if ( values.odnoklassniki_username ) {\n            if ( values.odnoklassniki_username < 3 ) {\n                errors.tg_username = 'Неверно заполнено имя пользователя. Пример: https://ok.ru/profile/11111111 или 11111111';\n            }\n            if ( !getUserName(values.odnoklassniki_username) ) {\n                errors.tg_username = 'Неверно заполнено имя пользователя. Пример: https://ok.ru/profile/11111111 или 11111111';\n            }\n        }\n    }\n\n    if ( values.email && !emailRegExp.test(values.email) ) {\n        errors.email = 'Неверно заполнен e-mail';\n    }\n\n    if ( values.phone && !phoneRegExp.test(values.phone) ) {\n        errors.phone = 'В поле телефон должны быть указаны только цифры и символы + - ()';\n    }\n\n    return errors;\n}\n\nexport default validate;\n","import { useContext, Fragment, useEffect } from 'react';\nimport { useVcard } from '../core/context/Vcard/VcardContext';\nimport { useFormikContext } from 'formik';\nimport { AlertContext } from '../core/context/Alert/AlertContext';\nimport { useHistory } from 'react-router-dom';\nimport { VIEW_PATH } from '../core/variables';\n\nexport default function NavbarEditor(props) {\n    const { dirty: formChanged, errors, submitForm, setErrors } = useFormikContext();\n    const { saveVcard, showVcard, vcardErrors } = useVcard();\n    let locationHistory = useHistory();\n\n    const { addDataErrorsAlert } = useContext(AlertContext);\n   \n    const handleSaveChanges = async (evt) => {\n        evt.preventDefault();\n        if( props.unsaved || formChanged ) {\n            if( Object.keys(errors).length ) {\n                addDataErrorsAlert();\n                setErrors(errors);\n            } else {\n                const data = await submitForm();\n                const result = await saveVcard(data);\n                if(result) {\n                    locationHistory.push(VIEW_PATH);\n                }\n            }\n        }\n    };\n\n    const handleShowChanges = async (evt) => {\n        evt.preventDefault();\n        if( Object.keys(errors).length ) {\n            addDataErrorsAlert();\n            setErrors(errors);\n        } else {\n            if(formChanged) {\n                props.setUnsaved(true);\n                const data = await submitForm();\n                showVcard(data);\n            }\n\n            locationHistory.push(VIEW_PATH);\n        }\n    };\n\n    // отлавливаем ошибки с сервера после сабмита\n    useEffect( () => {\n        if( Object.keys(vcardErrors) && Object.keys(vcardErrors).length ) {\n            setErrors(vcardErrors);\n        }\n    }, [ vcardErrors ]);\n\n    return (\n        <Fragment>\n            <div className=\"sidebar__btn-group\">\n                <div className=\"container\">\n                    <a href={`${ VIEW_PATH }`} onClick={ handleSaveChanges } className={`sidebar__btn sidebar__btn-hidden${ props.unsaved || formChanged ? ' active' : '' }`} title=\"Сохранить\">\n                        <i className=\"fas fa-save\"></i>\n                    </a>\n                    {\n                        props.accountUrl && (\n                            <a href={ props.accountUrl } className=\"sidebar__btn sidebar__btn-hidden\" title=\"Мои домены и услуги\">\n                                <i className=\"fas fa-user\"></i>\n                            </a>\n                        )\n                    }\n                    <a href={`${ VIEW_PATH }`} onClick={ handleShowChanges } className=\"sidebar__btn sidebar__btn-hidden\" title=\"Просмотр\">\n                        <i className=\"fas fa-eye\"></i>\n                    </a>\n                </div>\n            </div>\n        </Fragment>\n    )\n}\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useField } from 'formik';\nimport Modal from './Modal';\nimport Cropper from \"cropperjs\";\nimport \"cropperjs/dist/cropper.css\";\n\nfunction UserpicEditor(props) {\n    const [ showModal, setShowModal ] = useState(false);\n\n    const handleCloseModal = () => {\n        const body = document.getElementsByTagName('body')[0];\n        body.classList.remove('modal-open');\n        setShowModal(false);\n    };\n    const handleShowModal = () => {\n        const body = document.getElementsByTagName('body')[0];\n        body.classList.add('modal-open');\n        setShowModal(true);\n    };\n\n    const [ userpic, meta, helpers ] = useField(props.name);\n    const { initialValue } = meta;\n    const [ previousUserpic, setPreviousUserpic ] = useState(initialValue);\n    const defaultUserpic = props.defaultUserpic;\n    const { setValue: setUserpic } = helpers;\n\n    const [cropper, setCropper] = useState(null);\n    const cropperRef = useRef(null);\n\n    const handleChangeUserpic = (evt) => {\n        evt.preventDefault();\n\n        let files;\n        if (evt.dataTransfer) {\n            files = evt.dataTransfer.files;\n        } else if (evt.target) {\n            files = evt.target.files;\n        }\n        const reader = new FileReader();\n        reader.onload = () => {\n            setUserpic(reader.result);\n            addCropper();\n        };\n        reader.readAsDataURL(files[0]);\n    };\n\n    const handleSaveChanges = () => {\n        const data = getCropData();\n\n        setUserpic(data);\n        setPreviousUserpic(data);\n        handleCloseModal();\n    }\n\n    const handleRevertChanges = () => {\n        setUserpic(previousUserpic);\n        handleCloseModal();\n    }\n\n    const handleDeleteUserpic = () => {\n        setUserpic(defaultUserpic);\n    }\n\n    function getCropData () {\n        if (cropper && cropper.getCroppedCanvas ) {\n            const canvas = cropper.getCroppedCanvas({\n\t\t\t\t\twidth: 220,\n\t\t\t\t\theight: 220,\n\t\t\t\t});\n            return canvas.toDataURL();\n        } else {\n            return;\n        }\n    };\n\n    const addCropper = () => {\n        if (!cropperRef.current) {\n            return;\n        }\n\n        removeCropper();\n        \n        const newCropper = new Cropper(cropperRef.current, {\n            aspectRatio: 1,\n            autoCropArea: 0.5,\n        });\n        setCropper(newCropper);\n    }\n\n    const removeCropper = () => {\n        if (cropper) {\n            cropper.destroy();\n        }\n    }\n\n    useEffect(() => {\n        if(showModal) {\n            addCropper();\n        } else {\n            removeCropper();\n        }\n        return () => {\n            // очистим подписки\n            removeCropper();\n        };\n    }, [showModal])\n\n    return (\n        <div className=\"form-group\">\n            <div className=\"row\">\n                <div className=\"col-sm-4\">\n                    <label htmlFor=\"\" className=\"editor-form__label hidden-xs\">\n                        Фото&nbsp;\n                        <a href=\"https://webnames.ru/articles/kak_pravilno_zapolnit_dannye_v_konstruktore_personalnogo_sajta#slow-h2_1\" className=\"text-grey\" title=\"Как загрузить фото?\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                    </label>\n                </div>\n                <div className=\"col-sm-4\">\n                    <img src={`${ userpic.value }`} alt=\"Моё фото\" className=\"avatar-editor__preview\" />\n                </div>\n                <div className=\"col-sm-4\">\n                    <div className=\"avatar-editor__buttons\">\n                        <button className=\"btn btn-text-primary avatar-editor__btn\" type=\"button\" onClick={ handleShowModal }><i className=\"fas fa-pencil-alt\"></i> Изменить</button>\n                        <button className=\"btn btn-text-default avatar-editor__btn\" type=\"button\" onClick={ handleDeleteUserpic }><i className=\"fas fa-trash-alt\"></i> Удалить</button>\n                    </div>\n                </div>\n            </div>\n            { showModal && (\n                <Modal onClose={ handleRevertChanges }>\n                    <div className=\"row\">\n                        <div className=\"col-sm-1\"></div>\n                        <div className=\"col-sm-7\">\n                            <p className=\"hidden-xs\">&ensp;</p>\n                            <div className=\"avatar-editor__wrapper\">\n                                <img id=\"avatar\" src={`${ userpic.value }`} alt=\"Фото\" className=\"js-field avatar-editor__img\" ref={ cropperRef } />\n                            </div>\n                            <p className=\"hidden-xs\">&ensp;</p>\n                        </div>\n                        <div className=\"col-sm-4\">\n                            <p className=\"hidden-xs\">&ensp;</p>\n                            <div id=\"userpicError\"></div>\n                            <div className=\"text-center\">\n                                <label className=\"btn btn-text-primary avatar-editor__btn\" htmlFor=\"userpic\" title=\"Загрузить\">\n                                    <input type=\"file\" id=\"userpic\" className=\"sr-only\" name=\"userpic\" accept=\".jpg,.jpeg,.png,.bmp,.tiff\" value=\"\" onChange={ handleChangeUserpic } />\n                                    <span>\n                                        <span className=\"fas fa-upload\"></span> Загрузить\n                                    </span>\n                                </label>\n                                <button className=\"btn btn-primary avatar-editor__btn avatar-editor__btn_cropp\" type=\"button\"  data-dismiss=\"modal\" onClick={ handleSaveChanges }><i className=\"fas fa-save\"></i> Сохранить</button>\n                            </div>\n                        </div>\n                    </div>\n                </Modal>\n            ) }\n        </div>\n    );\n}\n\nexport default UserpicEditor;","import { useRef } from \"react\";\nimport { useField } from 'formik';\n\nexport default function Input(props) {\n    const [ field, form, helpers ] = useField(props.name);\n    const { error } = form;\n    const { setValue } = helpers;\n\n    const inputRef = useRef(null);\n\n    const emptyField = () => {\n        setValue('');\n        inputRef.current.focus();\n    }\n\n    return (\n        <div className=\"form-group\">\n            <div className=\"row\">\n                <div className={`col-sm-4${ props.hiddenLabel ? ' hidden-xs hidden-sm' : '' }`}>\n                    <label htmlFor={ field.name } className=\"editor-form__label\">\n                        { props.label }\n                        { props.children }\n                    </label>\n                </div>\n                <div className=\"col-sm-8\">\n                    <div className=\"input__wrapper\">\n                        <input \n                            {...field}\n                            type=\"text\" \n                            ref={ inputRef }\n                            className=\"form-control\"\n                            id={ field.name }\n                            placeholder={ props.placeholder } />\n                        { field.value && (\n                            <div className=\"input__times\" title=\"Очистить\" onClick={ emptyField }>\n                                <i className=\"fas fa-times\"></i>\n                            </div>\n                        )}\n                    </div>\n                    { error && (\n                        <div className=\"text-error\">{ error }</div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { useRef } from \"react\";\nimport { useField, useFormikContext } from 'formik';\nimport { sanitizeData } from '../core/utils/utils';\n\nexport default function HashtagInput(props) {\n    const [ field, form, helpers ] = useField(props.name);\n    const { touched, error } = form;\n    const { setValue } = helpers;\n\n    const { setFieldValue, values } = useFormikContext();\n\n    const inputRef = useRef(null);\n\n    const hashtags = values.hashtags && values.hashtags.length ? [ ...values.hashtags ] : [];\n    const handleRemoveHashtag = (id) => {\n        const changedHashtags = [...values.hashtags];\n        changedHashtags.splice(id, 1);\n        setFieldValue('hashtags', changedHashtags);\n    }\n\n    const handleAddHashtag = (evt) => {\n        evt.preventDefault();\n\n        if( error ) {\n            return;\n        }\n        if( !field.value ) {\n            return;\n        }\n\n        let newHashtag = field.value.replace(/[\\s#]+/gi, '');\n        newHashtag = sanitizeData( newHashtag );\n        const changedHashtags = [...values.hashtags];\n\n        changedHashtags.unshift(newHashtag);\n        if( changedHashtags.length > 3 ) {\n            changedHashtags.length = 3;\n        }\n        setFieldValue('hashtags', changedHashtags);\n        setFieldValue('hashtag', '');\n    }\n\n    const handleEnterHashtag = (evt) => {\n        if( evt.code && evt.code === 'Enter' ) {\n            handleAddHashtag(evt);\n        }\n    }\n\n    const emptyField = () => {\n        setValue('');\n        inputRef.current.focus();\n    }\n\n    return (\n        <div className=\"form-group\">\n            <div className=\"row\">\n                <div className=\"col-sm-4\">\n                    <label htmlFor=\"{ field.name }\" className=\"editor-form__label\">\n                        { props.label }\n                        { props.children }\n                    </label>\n                </div>\n                <div className=\"col-sm-8\">\n                    <div className=\"input-group\">\n                        <div className=\"input__wrapper\">\n                            <input \n                                { ...field }\n                                type=\"text\"\n                                ref={ inputRef }\n                                className=\"form-control\"\n                                onKeyUp={ handleEnterHashtag } />\n                            { field.value && (\n                                <div className=\"input__times\" title=\"Очистить\" onClick={ emptyField }>\n                                    <i className=\"fas fa-times\"></i>\n                                </div>\n                            )}\n                        </div>\n                        <span className=\"input-group-btn\">\n                            <button className=\"btn btn-text-primary\" type=\"button\" onClick={ handleAddHashtag }><i className=\"fas fa-plus\"></i></button>\n                        </span>\n                    </div>\n                    { touched && error &&  (\n                        <div className=\"text-error\">{ error }</div>\n                    )}\n                    <div className=\"js-tagWrapper\">\n                        {\n                            hashtags.map( (hashtag, id) => (\n                                <span \n                                    key={ id }\n                                    className=\"js-tagRemove profile__tag profile__tag_editor\"\n                                    title=\"Удалить\"\n                                    onClick={()=>handleRemoveHashtag(id)}>{ hashtag }</span>\n                                ) \n                            )\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { useRef, Fragment } from \"react\";\nimport { useField } from 'formik';\n\nexport default function InputGroup(props) {\n    const [ field, form, helpers ] = useField(props.name);\n    const { error } = form;\n    const { setValue } = helpers;\n\n    const inputRef = useRef(null);\n\n    const emptyField = () => {\n        setValue('');\n        inputRef.current.focus();\n    }\n\n    return (\n        <Fragment>\n            <div className=\"input__wrapper\">\n                <div className=\"input-group\">\n                    { props.children }\n                    <input \n                        {...field}\n                        type=\"text\"\n                        ref={ inputRef }\n                        className=\"form-control\"\n                        placeholder={ props.label } />\n                </div>\n                { field.value && (\n                    <div className=\"input__times\" title=\"Очистить\" onClick={ emptyField }>\n                        <i className=\"fas fa-times\"></i>\n                    </div>\n                )}\n            </div>\n            { error &&  (\n                <div className=\"text-error\">{ error }</div>\n            )}\n        </Fragment>\n    );\n}\n","import { useField } from 'formik';\n\nexport default function Textarea(props) {\n    const [ field, form ] = useField(props.name);\n    const { error } = form;\n\n    return (\n        <div className=\"form-group\">\n            <div className=\"row\">\n                <div className=\"col-sm-4\">\n                    <label htmlFor=\"{ field.name }\" className=\"editor-form__label\">\n                        { props.label }\n                        { props.children }\n                    </label>\n                </div>\n                <div className=\"col-sm-8\">\n                    <textarea {...field} {...props} className=\"form-control\" cols=\"30\" rows=\"5\">{ field.value }</textarea>\n                    { error &&  (\n                        <div className=\"text-error\">{ error }</div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { useField } from 'formik';\n\nexport default function Checkbox(props) {\n    const [ field, , helpers ] = useField(props.name);\n    const { setValue } = helpers;\n    const { name, value } = field;\n    const cls = ['checkbox-toggler'];\n    cls.push(props.fieldClasses);\n\n    const handleChange = () => {\n        let newValue;\n        if(value) {\n            newValue = '';\n        } else {\n            newValue = 'on'\n        }\n        setValue(newValue);\n    }\n\n    return (\n        <div className={ cls.join(' ') }>\n            <input type=\"checkbox\" {...field} id={ name } defaultChecked={ !!value }  onChange={ handleChange } />\n            <label htmlFor={ name } className={ !value ? 'checkbox-toggler__label_off' : 'checkbox-toggler__label_on' }></label>\n        </div>\n    );\n}\n","import { useState } from 'react';\nimport { useField, useFormikContext } from 'formik';\n\nexport default function Fieldset(props ) {\n    \n    const { setFieldValue } = useFormikContext();\n    const [field] = useField(props);\n    const [disabled, setDisabled] = useState(!field.value);\n\n    const handleChange = () => {\n        let newValue;\n        if(field.value) {\n            newValue = '';\n        } else {\n            newValue = 'on'\n        }\n        setFieldValue(field.name, newValue);\n        setDisabled(!newValue);\n    }\n\n    const helpText = props.helpLink ? ( <span>&nbsp;<a href={ props.helpLink } className=\"text-grey\" title={`Как заполнить \"${props.label}\"?`} target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a></span> ) : null;\n\n    const cls = ['editor-form__section'];\n    if(disabled) {\n        cls.push('editor-form__section_disabled');\n    }\n\n    return (\n        <div className={ cls.join(' ') }>\n            <div className=\"editor-form__header\">\n                { props.label }\n                { helpText }\n                <div className=\"checkbox-toggler checkbox-toggler_right\">\n                    <input type=\"checkbox\" {...field} id={ field.name } defaultChecked={ field.value }  onChange={ handleChange } />\n                    <label htmlFor={ field.name }></label>\n                </div>\n            </div>\n            { props.children }\n        </div>\n    );\n}\n","import { useRef, useState } from 'react';\nimport { useField, useFormikContext } from 'formik';\n\nexport default function FieldsetPhone(props) {\n\n    const { relatedFields } = props;\n    const [ field, form, meta ] = useField(props.name);\n    const { setFieldValue } = useFormikContext();\n    let { name, value } = field;\n    value = value || '';\n    const { error } = form;\n    const { setValue } = meta;\n\n    const inputRef = useRef(null);\n    const [ focused, setFocused ] = useState(null);\n\n    const handleFocus = () => {\n        setFocused(true);\n    }\n\n    const handleBlur = () => {\n        setFocused(false);\n    }\n\n    const handleChange = (evt) => {\n        let value = evt.target.value;\n        value = value.replace(/[() \\-.]/gi, '');\n        if ( value.length === 11 && /^8/.test(value) ) {\n            value = value.replace(/^8/, '+7');\n        }\n        if (!value.length) {\n            switchOffRelatedFields();\n        }\n        setValue(value, true);\n    }\n\n    const emptyField = () => {\n        setValue('');\n        switchOffRelatedFields();\n        inputRef.current.focus();\n    }\n\n    const switchOffRelatedFields = () => {\n        relatedFields.map(fieldName => {\n            setFieldValue(fieldName, '');\n            return false;\n        });\n    }\n\n    return (\n        <div className=\"editor-form__section\">\n            <div className=\"editor-form__header\">\n                { props.label }\n                &nbsp;<a href={ props.helpLink } className=\"text-grey\" title={`Как заполнить \"${props.label}\"?`} target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n            </div>\n            <div className=\"form-group\">\n                <div className=\"row\">\n                    <div className=\"col-sm-4\">\n                        <label htmlFor=\"phone\" className=\"editor-form__label\">Телефон</label>\n                    </div>\n                    <div className=\"col-sm-8\">\n                        <div className=\"input__wrapper\">\n                            <input \n                                type=\"tel\"\n                                ref={ inputRef }\n                                name={ name }\n                                value={ value }\n                                className=\"form-control\"\n                                placeholder={ props.label }\n                                onChange={ handleChange }\n                                onFocus={ handleFocus }\n                                onBlur={ handleBlur }\n                            />\n                            { value && (\n                                <div className=\"input__times\" title=\"Очистить\" onClick={ emptyField }>\n                                    <i className=\"fas fa-times\"></i>\n                                </div>\n                            )}\n                        </div>\n                        { error &&  (\n                            <div className=\"text-error\">{ error }</div>\n                        )}\n                        {\n                            focused && (\n                                <div>\n                                    <small>\n                                        Пример заполнения:<br />\n                                        Россия:   +71234567890<br />\n                                        Украина:  +380123456789<br />\n                                        Беларусь: +375123456789\n                                    </small>\n                                </div>\n                            )\n                        }\n                    </div>\n                </div>\n            </div>\n            { props.children }\n        </div>\n    );\n}\n","export default function Banner() {\n    return (\n        <div className=\"form-group\">\n            <div className=\"row\">\n                <div className=\"col-sm-4\">\n                    <label htmlFor=\"\" className=\"editor-form__label text-coral\">Спецпредложение</label>\n                </div>\n                <div className=\"col-sm-8\">\n                    <small>Если у вас нет сайта, его можно создать в конструкторе сайтов всего за</small> <b className=\"text-mars text-nowrap\">999 руб./год</b> <small className=\"text-line-through text-nowrap\">9 999 руб./год</small><br /><br />\n                    <a href=\"https://google.com\" className=\"btn btn-text-primary\" target=\"_blank\" rel=\"noreferrer\">СОЗДАТЬ САЙТ</a>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { withFormik } from 'formik';\nimport validate from './validate';\nimport NavbarEditor from '../../components/NavbarEditor';\nimport UserpicEditor from '../../components/UserpicEditor';\nimport Input from '../../components/Input';\nimport HashtagInput from '../../components/HashtagInput';\nimport InputGroup from '../../components/InputGroup';\nimport Textarea from '../../components/Textarea';\nimport Checkbox from '../../components/Checkbox';\nimport Fieldset from '../../components/Fieldset';\nimport FieldsetPhone from '../../components/FieldsetPhone';\nimport Banner from '../../components/Banner';\nimport { formateUrl, getUserName, getYouTubeChannel } from '../utils/utils';\n\nconst VcardForm = props => {\n    const {\n        handleSubmit,\n    } = props;\n    return (\n        <form onSubmit={ handleSubmit }>\n            <NavbarEditor accountUrl={ props.accountUrl } unsaved={ props.unsaved } setUnsaved={ props.setUnsaved } />\n            <div className=\"editor-form\">\n                <div className=\"editor-form__container\">\n                    <div className=\"editor-form__section\">\n                        <div className=\"editor-form__header\">Общая информация</div>\n                        <UserpicEditor name=\"userpic\" defaultUserpic={ props.defaultUserpic } />\n                        <Input name=\"user_name\" label=\"Ник или имя\">\n                            &nbsp;<a href=\"https://google.com\" className=\"text-grey\" title=\"Как заполнить ник или имя?\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                        </Input>\n                        <Input name=\"title\" label=\"Краткая информация\">\n                            &nbsp;<a href=\"https://google.com\" className=\"text-grey\" title=\"Как заполнить краткую информацию?\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                        </Input>\n                        <Textarea name=\"description\" label=\"Полное описание\">\n                            &nbsp;<a href=\"https://google.com\" className=\"text-grey\" title=\"Как заполнить полное описание?\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                        </Textarea>\n                        <HashtagInput name=\"hashtag\" label=\"Хэштеги (не более 3)\" hashtags={ props.values.hashtags }>\n                            &nbsp;<a href=\"https://google.com\" className=\"text-grey\" title=\"Как заполнить хэштеги?\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                        </HashtagInput>\n                    </div>\n                    <div className=\"editor-form__section\">\n                        <div className=\"editor-form__header\">\n                            Мой вебсайт\n                            &nbsp;<a href=\"https://google.com\" className=\"text-grey\" title=\"Как заполнить мой вебсайт?\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                        </div>\n                        <Input name=\"website_url\" label=\"URL\" />\n                        { props.showBanner && <Banner /> }\n                    </div>\n                    <Fieldset label=\"Ссылки на ресурсы\" name=\"show_links\" helpLink=\"https://google.com\">\n                        <div className=\"form-group\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-4\">\n                                    <InputGroup name=\"link1_name\" label=\"Текст кнопки\">\n                                        <span className=\"input-group-addon text-mars\">1</span>\n                                    </InputGroup>\n                                </div>\n                                <div className=\"col-sm-8\">\n                                    <InputGroup name=\"link1_url\" label=\"URL на ресурс\">\n                                        <span className=\"input-group-addon text-mars\">1</span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"row\">\n                            <div className=\"col-sm-4\">\n                                    <InputGroup name=\"link2_name\" label=\"Текст кнопки\">\n                                        <span className=\"input-group-addon text-mars\">2</span>\n                                    </InputGroup>\n                                </div>\n                                <div className=\"col-sm-8\">\n                                    <InputGroup name=\"link2_url\" label=\"URL на ресурс\">\n                                        <span className=\"input-group-addon text-mars\">2</span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                        </div>\n                    </Fieldset>\n                    <Fieldset label=\"Мои соц. сети\" name=\"show_social\" helpLink=\"https://google.com\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"vk_url\" label=\"Логин ВКонтакте\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-vk\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"facebook_url\" label=\"Логин Facebook\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-facebook-f\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"instagram_url\" label=\"Логин Instagram\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-instagram\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"youtube_url\" label=\"Канал YouTube\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-youtube\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"tiktok_url\" label=\"Логин TikTok\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-tiktok\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"tg_username\" label=\"Логин Telegram\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-telegram-plane\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"twitter_username\" label=\"Логин Twitter\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-twitter\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                            <div className=\"col-sm-6\">\n                                <div className=\"form-group\">\n                                    <InputGroup name=\"odnoklassniki_username\" label=\"Логин Одноклассники\">\n                                        <span className=\"input-group-addon\"><i className=\"fab fa-odnoklassniki\"></i></span>\n                                    </InputGroup>\n                                </div>\n                            </div>\n                        </div>\n                    </Fieldset>\n                    <div className=\"editor-form__section\">\n                        <div className=\"editor-form__header\">\n                            Email\n                            &nbsp;<a href=\"https://google.com\" className=\"text-grey\" title='Как заполнить \"Email\"?' target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i></a>\n                        </div>\n                        <Input name=\"email\" label=\"Email\" hiddenLabel=\"1\" />\n                    </div>\n                    <FieldsetPhone \n                        label=\"Телефон\" \n                        name=\"phone\" \n                        helpLink=\"https://google.com\" \n                        relatedFields={['show_whatsapp', 'show_viber']}\n                    >\n                        <div className=\"form-group\">\n                            <div className=\"row\">\n                                <div className=\"col-xs-8 col-md-4\">\n                                    <label className=\"editor-form__label\"><i className=\"fab fa-whatsapp\"></i> Whatsapp</label>\n                                </div>\n                                <div className=\"col-xs-4 col-md-8\">\n                                    <Checkbox name=\"show_whatsapp\" fieldClasses=\" checkbox-toggler_pad-top editor-form__toggler-phone\" />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"row\">\n                                <div className=\"col-xs-8 col-md-4\">\n                                    <label className=\"editor-form__label\"><i className=\"fab fa-viber\"></i> Viber</label>\n                                </div>\n                                <div className=\"col-xs-4 col-md-8\">\n                                    <Checkbox name=\"show_viber\" fieldClasses=\" checkbox-toggler_pad-top editor-form__toggler-phone\" />\n                                </div>\n                            </div>\n                        </div>\n                    </FieldsetPhone>\n                    <Fieldset label=\"Не показывать надпись в подвале сайта\" name=\"hide_footer\" helpLink=\"\"></Fieldset>\n                    <div className=\"editor-form__section\">\n                        <div className=\"editor-form__header\">Обратная связь</div>\n                        <div className=\"form-group\">\n                            <small><a href=\"https://google.com\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fas fa-info-circle\"></i> Как правильно заполнить все данные?</a></small>\n                        </div>\n                        <div className=\"form-group\">\n                            <a href=\"https://google.com\" className=\"btn btn-text-primary\" target=\"_blank\" rel=\"noreferrer\">СООБЩИТЬ ОБ ОШИБКЕ</a>\n                        </div>\n                        <div className=\"form-group\">\n                            <a href=\"https://google.com\" className=\"btn btn-text-primary\" target=\"_blank\" rel=\"noreferrer\">ПРЕДЛОЖИТЬ УЛУЧШЕНИЕ</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </form>\n    );\n};\n\nconst VcardEditForm = withFormik({\n    mapPropsToValues: (props) => { \n        const values = Object.assign({}, props.values);\n\n        if(!values.userpic) {\n            values.userpic = props.defaultUserpic;\n        }\n        values.hashtag = '';\n        return values;\n    },\n    mapPropsToErrors: (props) => {\n        const errors = Object.assign({}, props.errors);\n        return errors;\n    },\n    mapPropsToTouched: (props) => {\n        const touched = {};\n        for(let key in props.errors) {\n            touched[key] = true;\n        }\n        return touched;\n    },\n    validate: validate,\n    handleSubmit: (values, { props, setSubmitting, setValues }) => {\n        setSubmitting(false);\n        const initialValues = Object.assign({}, props.values);\n        const newValues = Object.assign({}, values);\n\n        if(newValues.website_url) {\n            newValues.website_url = formateUrl(newValues.website_url);\n        }\n\n        if ( newValues.show_links ) {\n            if(newValues.link1_url) {\n                newValues.link1_url = formateUrl(newValues.link1_url);\n            }\n            if(newValues.link2_url) {\n                newValues.link2_url = formateUrl(newValues.link2_url);\n            }\n        } else {\n            if(newValues.link1_url) {\n                delete newValues.link1_url;\n            }\n            if(newValues.link2_url) {\n                delete newValues.link2_url;\n            }\n            if(newValues.link1_name) {\n                delete newValues.link1_name;\n            }\n            if(newValues.link2_name) {\n                delete newValues.link2_name;\n            }\n        }\n        \n        if ( newValues.show_social ) {\n            if(newValues.vk_url) {\n                newValues.vk_url = getUserName(newValues.vk_url);\n            }\n            if(newValues.facebook_url) {\n                newValues.facebook_url = getUserName(newValues.facebook_url);\n            }\n            if(newValues.instagram_url) {\n                newValues.instagram_url = getUserName( newValues.instagram_url.replace(/(\\/)?$/, '') );\n            }\n            if(newValues.youtube_url) {\n                newValues.youtube_url = getYouTubeChannel(newValues.youtube_url);\n            }\n            if(newValues.tiktok_url) {\n                newValues.tiktok_url = getUserName(newValues.tiktok_url);\n            }\n            if(newValues.tg_username) {\n                newValues.tg_username = getUserName(newValues.tg_username);\n            }\n            if(newValues.twitter_username) {\n                newValues.twitter_username = getUserName(newValues.twitter_username);\n            }\n            if(newValues.odnoklassniki_username) {\n                newValues.odnoklassniki_username = getUserName(newValues.odnoklassniki_username);\n            }\n        } else {\n            if(newValues.vk_url) {\n                delete newValues.vk_url;\n            }\n            if(newValues.facebook_url) {\n                delete newValues.facebook_url;\n            }\n            if(newValues.instagram_url) {\n                delete newValues.instagram_url;\n            }\n            if(newValues.youtube_url) {\n                delete newValues.youtube_url;\n            }\n            if(newValues.tiktok_url) {\n                delete newValues.tiktok_url;\n            }\n            if(newValues.tg_username) {\n                delete newValues.tg_username;\n            }\n            if(newValues.twitter_username) {\n                delete newValues.twitter_username;\n            }\n            if(newValues.odnoklassniki_username) {\n                delete newValues.odnoklassniki_username;\n            }\n        }\n\n        if ( !newValues.phone ) {\n            if(newValues.show_whatsapp) {\n                newValues.show_whatsapp = '';\n            }\n            if(newValues.show_viber) {\n                newValues.show_viber = '';\n            }\n        }\n\n        const updatedValues = Object.assign(initialValues, newValues);\n        return updatedValues;\n    },\n    displayName: 'VcardEditForm',\n})(VcardForm);\n\nexport default VcardEditForm;\n","import { useVcard } from '../core/context/Vcard/VcardContext';\nimport VcardEditForm from '../core/forms/VcardEditForm';\n\nfunction Editor(props) {  \n    const { \n        vcardFields,\n        vcardErrors,\n        defaultUserpic,\n        resetVcard,\n        saveVcard,\n        showVcard,\n        isUnsaved,\n        setUnsaved,\n        isNotEdited\n    } = useVcard();\n\n    const accountUrl = props.accountUrl;\n\n    if ( !Object.keys(vcardFields) || !Object.keys(vcardFields).length ) {\n        return null;\n    } else {\n        // сбросим значения, если форма ни разу не редактировалась\n        const values = Object.assign({}, vcardFields);\n\n        if(isNotEdited) {\n            values.user_name = '';\n            values.title = '';\n        }\n\n        return (\n            <div className=\"sidebar in\">\n                <VcardEditForm\n                    values={ values }\n                    errors={ vcardErrors }\n                    defaultUserpic={ defaultUserpic }\n                    reset={ resetVcard }\n                    save={ saveVcard }\n                    show={ showVcard }\n                    accountUrl={ accountUrl }\n                    unsaved={ isUnsaved }\n                    setUnsaved={ setUnsaved }\n                    showBanner={ true }\n                />\n            </div>\n        );\n    }\n}\n\nexport default Editor;","import { HashRouter, Switch, Route } from 'react-router-dom';\nimport { LoaderProvider } from './core/context/Loader/LoaderContext';\nimport Loader from './components/Loader';\nimport { AlertProvider } from './core/context/Alert/AlertContext';\nimport { VcardDemoProvider } from './core/context/Vcard/VcardDemoProvider';\nimport View from './pages/View';\nimport Editor from './pages/Editor';\nimport { VIEW_PATH, EDIT_PATH } from './core/variables';\n\nfunction App() {\n    const root = document.getElementById('root');\n    const logoutUrl = root ? root.getAttribute('data-logout') : '';\n    const defaultUserpic = root ? root.getAttribute('data-userpic') : '';\n\n    return (\n        <div id=\"app\" className=\"app\">\n            <LoaderProvider>\n                <AlertProvider logoutUrl={ logoutUrl }>\n                    <VcardDemoProvider \n                        defaultUserpic={ defaultUserpic }>\n                        <Loader />\n                        <HashRouter>\n                            <Switch>\n                                <Route path={ VIEW_PATH } exact component={ View } />\n                                <Route path={ EDIT_PATH } render={ (props) => (\n                                    <Editor {...props} logoutUrl={ logoutUrl } />\n                                ) } />\n                            </Switch>\n                        </HashRouter>\n                    </VcardDemoProvider>\n                </AlertProvider>\n            </LoaderProvider>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}